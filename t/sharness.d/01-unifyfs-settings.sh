#
# Export variables to control UNIFYFS runtime settings.
#

#
# Source a script that is dynamically generated by 0001-setup.t.
#
. $UNIFYFS_TEST_RUN_SCRIPT


# Common settings
UNIFYFS_MOUNTPOINT=${UNIFYFS_MOUNT_POINT:-$(mktemp -d)}
export UNIFYFS_MOUNTPOINT

# Server settings
UNIFYFS_META_DB_PATH=${UNIFYFS_META_DB_PATH:-$(mktemp -d)}
UNIFYFS_META_DB_NAME=${UNIFYFS_META_DB_NAME:-unifyfs_db}
UNIFYFS_META_SERVER_RATIO=${UNIFYFS_META_SERVER_RATIO:-1}
UNIFYFS_LOG_DIR=${UNIFYFS_LOG_DIRECTORY:-$UNIFYFS_META_DB_PATH}
UNIFYFS_LOG_FILE=${UNIFYFS_LOG_FILE:-unifyfsd_debuglog}
UNIFYFS_RUNSTATE_DIR=${UNIFYFS_RUNSTATE_DIR:-$UNIFYFS_META_DB_PATH}
UNIFYFS_SHAREDFS_DIR=${UNIFYFS_SHAREDFS_DIR:-$UNIFYFS_META_DB_PATH}
export UNIFYFS_LOG_DIR
export UNIFYFS_LOG_FILE
export UNIFYFS_META_DB_NAME
export UNIFYFS_META_DB_PATH
export UNIFYFS_META_SERVER_RATIO
export UNIFYFS_RUNSTATE_DIR
export UNIFYFS_SHAREDFS_DIR

# Client settings
UNIFYFS_SPILLOVER_ENABLED=${UNIFYFS_SPILLOVER_ENABLED:-"Y"}
UNIFYFS_SPILLOVER_DATA_DIR=${UNIFYFS_SPILLOVER_DATA_DIR:-$UNIFYFS_META_DB_PATH}
UNIFYFS_SPILLOVER_META_DIR=${UNIFYFS_SPILLOVER_META_DIR:-$UNIFYFS_META_DB_PATH}
export UNIFYFS_SPILLOVER_DATA_DIR
export UNIFYFS_SPILLOVER_META_DIR
export UNIFYFS_SPILLOVER_ENABLED
